---
title: UAVGP堆叠箱体建模方案
typora-root-url: ../../source
typora-copy-images-to: ../images/Box modeling.assets
categories: Computer Vision
tags:
- 视觉测量
- 图像处理
---

基于单目视觉的堆叠箱体工件空间位姿求解研究 --浙江大学 刘年福

（1）特征点空间坐标测量模型

P4P问题的求解，顶点平面坐标的精确度直接影响目标平面空间位姿求解的准确度，建议采用边缘拟合直线的交点坐标来替代工件的四个顶点；

（2）工件图像边长与实际边长的匹配

预先假定工件某个表面为已知面，将该表面４个顶点的二维平面坐标代入特征点空间坐标测量模型求解出其三维空间坐标，利用空间坐标求解出相应边长的实际值，并和假定已知面的边长比较，若边长一致，证明所假定的已知面为真实平面由于工件堆叠引起的旋转，实际长边在图像中的成像可能变成短边，实际短边在成像中可能变成长边，针对这一误判问题，对尝试法进行了优化，引入校验平面的概念，结合工件自身约束，设定了校验条件，保证了尝试的正确性，最终实现了工件图像边长与实际边长的正确匹配。

（3）待抓取平面的空间位姿求解

箱体工件空间位姿求解的最终目的就是根据工件长宽高等尺寸信息和工件顶点在成像平面上的二维坐标计算出待抓取平面的位姿参数目标平面即最终的待抓取平面。

（4）堆叠箱体工件边缘分割

各箱体表面灰度接近，多箱体在成像中存在粘连；

先通过图像预处理算法，然后用canny算子进行边缘提取，工件与工件粘连部分的边缘分割采用SVM分类算法，先以若干粘连工件图像中的粘连边界作为分类器的训练样本，得出学习模型之后再带入新的待分割工件图像，从中提取出粘连的工件边缘，最后建议采用边缘拟合直线的交点坐标来替代工件的四个顶点；

其他关注点：

将用于位姿求解的工件面定义为特征平面，一般取视野里面积最大的表面；

待抓取的工件表面定义为目标平面，目标平面与特征平面垂直，且共用两个特征点；

约束条件：

1.由于是矩形，任意三个特征点组成的三角形面积都相等

2.V=A*h/3

3.引入校验的平面，通过法向量之间叉乘为0，确定唯一的关系



